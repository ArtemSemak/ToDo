(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{143:function(e,t,n){},230:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(22),c=n.n(s),r=(n(143),n(29)),i=n.n(r),u=n(52),l=n(28),d=(n(44),n(53)),j=n.n(d),p=(n.p,n(237)),h=n(234),b=n(54),f=n(238),m=n(6);var O=function(e){var t=e.todo,n=e.onChange,o=e.deleteTodo,s=e.editing,c=Object(a.useState)(!1),r=Object(l.a)(c,2),i=r[0],u=r[1],d=Object(a.useState)(t.name),j=Object(l.a)(d,2),O=j[0],x=j[1],g=["titleToDo"];return t.done&&g.push("done"),Object(m.jsxs)("section",{className:"td",children:[Object(m.jsxs)("section",{children:[Object(m.jsx)(p.a,{className:"checkBox",onChange:function(){return n(t.uuid,t.done,t.name)},checked:t.done}),i?Object(m.jsx)(h.a,{className:"inputForEdit",autoFocus:!0,onBlur:function(){return u(!1)},onPressEnter:function(e){return function(e){e.preventDefault(),O.trim()&&(s(t.uuid,O,t.done),u(!1))}(e)},onKeyDown:function(e){return function(e){"Escape"===e.key&&u(!1)}(e)},value:O,onChange:function(e){return x(e.target.value)}}):Object(m.jsx)("button",{onClick:function(){u(!0)},className:"qwe",children:Object(m.jsxs)("span",{className:g.join(" "),children:[" ",t.name," "]})})]}),Object(m.jsxs)("section",{children:[Object(m.jsxs)("label",{className:"lbltext",children:[" ",t.createdAt.slice(0,10)," "]}),Object(m.jsx)(b.a,{className:"trash",title:"Delete plan",onClick:function(){o(t.uuid),u(!1)},icon:Object(m.jsx)(f.a,{}),size:"small"})]})]})};var x=function(e){var t=e.sortedTodos,n=e.doneTodo,a=e.removeTodo,o=e.edit;return Object(m.jsx)("main",{className:"tds",children:t.length?t.map((function(e){return Object(m.jsx)(O,{editing:o,todo:e,onChange:n,deleteTodo:a})})):Object(m.jsx)("p",{className:"noTD",children:"You dont have ToDos"})})},g=n(232);var v=function(e){var t=e.todosLength,n=e.todosPerPage,a=e.pageClick;return Math.ceil(t/n)>1?Object(m.jsx)("section",{className:"footer",children:Object(m.jsx)(g.a,{onChange:function(e){return a(e)},defaultPageSize:n,defaultCurrent:1,total:t})}):Object(m.jsx)("span",{})},w=(n(126),h.a.Search);var S=function(e){var t=e.addTodo,n=Object(a.useState)(""),o=Object(l.a)(n,2),s=o[0],c=o[1];return Object(m.jsx)("section",{children:Object(m.jsx)(w,{onSearch:function(){t(s),c("")},autoFocus:!0,type:"text",value:s,onChange:function(e){return c(e.target.value)},enterButton:"Add",placeholder:"I want to do...",style:{width:560,height:40},title:"Write your plan here"})})},C=n(236);var k=function(e){var t=e.doneUndone,n=e.setDoneUnDone,a=e.setOrder,o=e.order;return Object(m.jsxs)("section",{className:"control",children:[Object(m.jsxs)(C.a.Group,{value:t,onChange:function(e){n(e.target.value)},children:[Object(m.jsx)(C.a.Button,{value:"all",children:"All"}),Object(m.jsx)(C.a.Button,{value:"done",children:"Done"}),Object(m.jsx)(C.a.Button,{value:"undone",children:"Undone"})]}),Object(m.jsxs)(C.a.Group,{value:o,onChange:function(e){a(e.target.value)},children:[Object(m.jsx)(C.a.Button,{value:"asc",children:"Asc"}),Object(m.jsx)(C.a.Button,{value:"desc",children:"Desc"})]})]})};var y=function(e){var t=e.visible,n=e.onClose,a=e.content;return t?Object(m.jsx)("div",{className:"modal-window",onClick:n,children:Object(m.jsxs)("div",{className:"modal-dialog",onClick:function(e){return e.stopPropagation()},children:[Object(m.jsx)("div",{className:"modal-header",children:Object(m.jsx)("h3",{className:"modal-title",children:"Oops!"})}),Object(m.jsx)("div",{className:"modal-body",children:Object(m.jsx)("div",{className:"modal-content",children:a})})]})}):null},T=n(235),P=n(233);var N=function(e){var t=e.addUser,n=e.showRegistration,a=e.setShowRegistration,o=e.setShowLogin;return Object(m.jsx)(T.a,{title:"Sign up",visible:n,onCancel:function(){a(!1),o(!0)},footer:[],children:Object(m.jsxs)(P.a,{name:"basic",labelCol:{span:7},wrapperCol:{span:15},initialValues:{remember:!0},onFinish:function(e){t(e)},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(m.jsx)(P.a.Item,{label:"Login",name:"login",rules:[{required:!0,message:"Please input your username!"}],children:Object(m.jsx)(h.a,{})}),Object(m.jsx)(P.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(m.jsx)(h.a.Password,{})}),Object(m.jsx)(P.a.Item,{wrapperCol:{offset:9,span:16},children:Object(m.jsx)(b.a,{type:"primary",htmlType:"submit",children:"Sign up"})})]})})};var D=function(e){var t=e.loginUser,n=e.showLogin,a=e.setShowLogin,o=e.setShowRegistration;return Object(m.jsx)(T.a,{title:"Log in",visible:n,closable:!1,footer:[],children:Object(m.jsxs)(P.a,{name:"basic",labelCol:{span:7},wrapperCol:{span:15},initialValues:{remember:!0},onFinish:function(e){t(e),console.log("Success:",e)},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(m.jsx)(P.a.Item,{label:"Login",name:"login",rules:[{required:!0,message:"Please input your username!"}],children:Object(m.jsx)(h.a,{})}),Object(m.jsx)(P.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(m.jsx)(h.a.Password,{})}),Object(m.jsx)(P.a.Item,{wrapperCol:{offset:9,span:16},children:Object(m.jsx)(b.a,{type:"primary",htmlType:"submit",children:"Log in"})}),Object(m.jsx)(P.a.Item,{wrapperCol:{offset:18,span:16},children:Object(m.jsx)(b.a,{type:"link",onClick:function(){a(!1),o(!0)},children:"Sign up"})})]})})},L=(Object({NODE_ENV:"production",PUBLIC_URL:"/ToDo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_URL:"https://todo-api-artemsemak.herokuapp.com/api/todo",REACT_APP_DEV_URL:"http://localhost:3001/api/todo"}).REACT_APP_ID,"https://todo-api-artemsemak.herokuapp.com/api/todo");var E=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)(1),c=Object(l.a)(s,2),r=c[0],d=c[1],p=Object(a.useState)("all"),h=Object(l.a)(p,2),f=h[0],O=h[1],g=Object(a.useState)("desc"),w=Object(l.a)(g,2),C=w[0],T=w[1],P=Object(a.useState)(!1),E=Object(l.a)(P,2),F=E[0],I=E[1],_=Object(a.useState)(""),R=Object(l.a)(_,2),A=R[0],U=R[1],B=Object(a.useState)(!1),q=Object(l.a)(B,2),K=q[0],V=q[1],W=Object(a.useState)(!0),H=Object(l.a)(W,2),z=H[0],G=H[1],J=Object(a.useState)(!1),M=Object(l.a)(J,2),Y=M[0],Q=M[1],X=n.slice(5*r-5,5*r),Z={headers:{"x-auth":sessionStorage.getItem("jwt")}};function $(){return($=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(n.filter((function(e){return e.uuid!==t}))),console.log(t),console.log(n),e.next=6,j.a.delete("".concat(L,"/").concat(t),Z);case 6:X.length-1===0&&1!=r&&d(r-1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),U(e.t0.response.data),I(!0),setTimeout((function(){return I(!1)}),3e3);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function ee(){return(ee=Object(u.a)(i.a.mark((function e(t,a,s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.put("".concat(L,"/").concat(t),{name:s,done:!a},Z);case 3:o(n.map((function(e){return e.uuid===t&&(e.done=!e.done),e}))),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),U(e.t0.response.data),I(!0),setTimeout((function(){return I(!1)}),3e3);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function te(){return(te=Object(u.a)(i.a.mark((function e(t,a,s){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.put("".concat(L,"/").concat(t),{name:a,done:s},Z);case 3:o(n.map((function(e){return e.uuid===t&&(e.name=a),e}))),e.next=11;break;case 6:e.prev=6,e.t0=e.catch(0),U(e.t0.response.data),I(!0),setTimeout((function(){return I(!1)}),3e3);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function ne(){return(ne=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("https://todo-api-artemsemak.herokuapp.com/registration",t);case 3:G(!0),V(!1),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),U(e.t0.response.data),I(!0),setTimeout((function(){return I(!1)}),3e3);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ae(){return(ae=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("https://todo-api-artemsemak.herokuapp.com/login",t);case 3:n=e.sent,sessionStorage.setItem("jwt",n.data),Q(!0),G(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),U(e.t0.response.data),I(!0),setTimeout((function(){return I(!1)}),3e3);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function oe(){return(oe=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,O(""),e.next=4,j.a.post("".concat(L),{name:t,done:!1},Z);case 4:d(1),O("all"),se(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),U(e.t0.response.data),I(!0),setTimeout((function(){return I(!1)}),3e3);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function se(){return ce.apply(this,arguments)}function ce(){return(ce=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat(L,"s?order=").concat(C,"&filterBy=").concat(f),Z);case 3:t=e.sent,o(t.data),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),U(e.t0.response.data),I(!0),setTimeout((function(){return I(!1)}),3e3);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){sessionStorage.getItem("jwt")&&(Q(!0),G(!1))}),[]),Object(a.useEffect)((function(){sessionStorage.getItem("jwt")&&(d(1),se())}),[f,C,Y]),Object(m.jsx)("div",{className:"App",children:Object(m.jsxs)("body",{children:[Object(m.jsxs)("header",{children:[Object(m.jsx)("section",{children:Object(m.jsx)("p",{className:"title",children:"ToDo"})}),Object(m.jsx)(S,{addTodo:function(e){return oe.apply(this,arguments)}}),Object(m.jsx)(k,{doneUndone:f,setDoneUnDone:O,setOrder:T,order:C})]}),Object(m.jsx)(x,{edit:function(e,t,n){return te.apply(this,arguments)},sortedTodos:X,doneTodo:function(e,t,n){return ee.apply(this,arguments)},removeTodo:function(e){return $.apply(this,arguments)}}),Object(m.jsxs)("footer",{className:"mainfooter",children:[Object(m.jsx)(v,{todosLength:n.length,todosPerPage:5,pageClick:function(e){d(e)}}),Object(m.jsx)(b.a,{onClick:function(){sessionStorage.removeItem("jwt"),o([]),Q(!1),G(!0)},className:"logout",children:"Log out"})]}),Object(m.jsx)(y,{visible:F,onClose:function(){I(!1)},content:A}),Object(m.jsx)(N,{addUser:function(e){return ne.apply(this,arguments)},showRegistration:K,setShowRegistration:V,setShowLogin:G}),Object(m.jsx)(D,{loginUser:function(e){return ae.apply(this,arguments)},showLogin:z,setShowLogin:G,setShowRegistration:V})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,239)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),s(e),c(e)}))};c.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(E,{})}),document.getElementById("root")),F()},44:function(e,t,n){}},[[230,1,2]]]);
//# sourceMappingURL=main.4257c2e4.chunk.js.map